<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peppermint - Houseplant Assistant</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav>
        <div class="nav-left">
            <a href="#" class="back-arrow">←</a>
            <a href="index.html" class="home-icon">⌂</a>
        </div>
        <div class="nav-right">
            <a href="plant-of-day.html">Plant of the day</a>
            <a href="contact.html">Contact us</a>
            <a href="about.html">About us</a>
        </div>
    </nav>

    <main>
        <div class="plant-detail" id="plantDetail">
            <!-- Content will be populated by JavaScript -->
        </div>
    </main>

    <script src="config.js"></script>
    <script>
    async function getPlantDetails(id) {
        const response = await fetch(`https://perenual.com/api/species/details/${id}?key=${config.API_KEY}`);
        const data = await response.json();
        return data;
    }

    function displayPlantDetails(plant) {
        const detailContainer = document.getElementById('plantDetail');
        detailContainer.innerHTML = `
            <img src="${plant.default_image?.regular_url || 'placeholder.png'}" alt="${plant.common_name}">
            <div class="plant-content">
                <h1>${plant.common_name}</h1>
                <p class="scientific-name">${plant.scientific_name.join(', ')}</p>
                <p class="description">
                    Watering frequency: ${plant.watering_general_benchmark?.value || 'Not specified'}<br>
                    Light preference: ${plant.sunlight.join(', ')}<br>
                    Care level: ${plant.care_level}
                </p>
                <p>${plant.description}</p>
                <button class="add-task-btn">Add to tasks</button>
            </div>
        `;
    }

    // Load plant details on page load
    window.addEventListener('load', async () => {
        const params = new URLSearchParams(window.location.search);
        const id = params.get('id');
        if (id) {
            const plant = await getPlantDetails(id);
            displayPlantDetails(plant);
        }
    });
    </script>
</body>
</html> 